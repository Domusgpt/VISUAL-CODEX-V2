<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Codex Twin System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/gallery-proper-system.css">
</head>
<body data-variant="twin" data-lens="outcome">
    <main class="codex-shell">
        <header class="codex-header">
            <h1>Visual Codex Twin System</h1>
            <p>
                A mirrored codex built on the same crystalline framework, yet tuned to explore alternate outcomes for every experience.
                Shuffle narrative flows, orbit between categories, and let the outcome lens lead each expedition.
            </p>
            <div class="utility-stack" role="toolbar" aria-label="Twin codex controls">
                <div class="filter-group">
                    <label class="sr-only" for="twin-search">Search alternate outcomes</label>
                    <input type="search" id="twin-search" name="twin-search" placeholder="Search alternate outcomes" data-role="search">
                    <label class="sr-only" for="twin-category">Filter by category</label>
                    <select id="twin-category" name="twin-category" data-role="category"></select>
                </div>
                <div class="type-group" role="group" aria-label="Filter by type">
                    <button type="button" class="control-button" data-role="type" data-type="all" aria-pressed="true">All</button>
                    <button type="button" class="control-button" data-role="type" data-type="gallery" aria-pressed="false">Galleries</button>
                    <button type="button" class="control-button" data-role="type" data-type="demo" aria-pressed="false">Demos</button>
                    <button type="button" class="control-button" data-role="type" data-type="effect" aria-pressed="false">Effects</button>
                </div>
                <div class="view-group" role="group" aria-label="Select layout view">
                    <button type="button" class="control-button" data-role="view" data-view="grid" aria-pressed="false">Grid</button>
                    <button type="button" class="control-button" data-role="view" data-view="list" aria-pressed="true">Constellation</button>
                </div>
                <div class="view-group" role="group" aria-label="Outcome tools">
                    <button type="button" class="control-button secondary" data-role="lens-toggle" aria-pressed="true">Show Summaries</button>
                    <button type="button" class="control-button" data-role="shuffle">Shuffle Sequence</button>
                </div>
            </div>
            <p>
                Need the canonical curation? Return to the
                <a href="gallery-proper-system.html" class="control-button" style="display:inline-flex; margin-top:14px;">Proper System</a>
                for structured sequencing.
            </p>
        </header>
        <section id="gallery" class="gallery-grid" data-view="list" aria-live="polite" aria-label="Visual Codex twin entries"></section>
    </main>
    <div id="detail-panel" class="detail-panel" hidden aria-hidden="true" tabindex="-1" role="dialog" aria-modal="true">
        <article class="detail-card"></article>
    </div>
    <script type="module">
        import { initGallery } from './js/gallery-proper-system.js';
        initGallery({
            containerSelector: '#gallery',
            manifestPath: './data/visual-codex-manifest.json',
            variant: 'twin'
        });
    </script>
</body>
</html>
