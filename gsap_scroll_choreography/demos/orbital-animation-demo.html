<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pattern 16: Orbital Animation System - Visual Codex</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #0a0a0f;
            color: #e8e8f0;
            min-height: 100vh;
            overflow: hidden;
        }
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 1rem 2rem;
            background: rgba(10, 10, 15, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .orbital-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 600px;
        }
        .orbital-center {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
            box-shadow: 0 0 30px rgba(102, 126, 234, 0.5);
        }
        .orbital-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        .orbital-ring-1 { width: 200px; height: 200px; }
        .orbital-ring-2 { width: 350px; height: 350px; }
        .orbital-ring-3 { width: 500px; height: 500px; }
        .orbital-item {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px currentColor;
        }
        .orbital-item:hover {
            transform: scale(1.2);
        }
        .orbital-item.ring-1 { background: linear-gradient(135deg, #ff6b6b, #ee5a24); }
        .orbital-item.ring-2 { background: linear-gradient(135deg, #4ecdc4, #44bd87); }
        .orbital-item.ring-3 { background: linear-gradient(135deg, #45b7d1, #3742fa); }
        .controls {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            z-index: 1000;
        }
        .control-btn {
            background: rgba(102, 126, 234, 0.2);
            border: 1px solid rgba(102, 126, 234, 0.3);
            color: #e8e8f0;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .control-btn:hover {
            background: rgba(102, 126, 234, 0.4);
        }
        .info-panel {
            position: fixed;
            top: 6rem;
            left: 2rem;
            background: rgba(10, 10, 15, 0.9);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px;
            padding: 1.5rem;
            max-width: 300px;
        }
        .title { font-size: 1.1rem; margin-bottom: 0.5rem; color: #a8b2ff; }
        .subtitle { font-size: 0.875rem; opacity: 0.8; }
    </style>
</head>
<body>
    <div class="header">
        <a href="../index.html" class="back-link">‚Üê Back to GSAP Patterns</a>
        <h1>Pattern 16: Orbital Animation System</h1>
    </div>

    <div class="info-panel">
        <div class="title">ü™ê Orbital System</div>
        <div class="subtitle">
            Simone-style orbital animations with 13 items across 3 rings.
            Click items to navigate or use controls below.
        </div>
    </div>

    <div class="orbital-container">
        <!-- Orbital Rings -->
        <div class="orbital-ring orbital-ring-1"></div>
        <div class="orbital-ring orbital-ring-2"></div>
        <div class="orbital-ring orbital-ring-3"></div>
        
        <!-- Center -->
        <div class="orbital-center">CORE</div>
        
        <!-- Ring 1 Items (3 items) -->
        <div class="orbital-item ring-1" data-ring="1" data-index="0">A</div>
        <div class="orbital-item ring-1" data-ring="1" data-index="1">B</div>
        <div class="orbital-item ring-1" data-ring="1" data-index="2">C</div>
        
        <!-- Ring 2 Items (4 items) -->
        <div class="orbital-item ring-2" data-ring="2" data-index="0">D</div>
        <div class="orbital-item ring-2" data-ring="2" data-index="1">E</div>
        <div class="orbital-item ring-2" data-ring="2" data-index="2">F</div>
        <div class="orbital-item ring-2" data-ring="2" data-index="3">G</div>
        
        <!-- Ring 3 Items (6 items) -->
        <div class="orbital-item ring-3" data-ring="3" data-index="0">H</div>
        <div class="orbital-item ring-3" data-ring="3" data-index="1">I</div>
        <div class="orbital-item ring-3" data-ring="3" data-index="2">J</div>
        <div class="orbital-item ring-3" data-ring="3" data-index="3">K</div>
        <div class="orbital-item ring-3" data-ring="3" data-index="4">L</div>
        <div class="orbital-item ring-3" data-ring="3" data-index="5">M</div>
    </div>

    <div class="controls">
        <button class="control-btn" onclick="expandAll()">Expand</button>
        <button class="control-btn" onclick="collapseAll()">Collapse</button>
        <button class="control-btn" onclick="rotateAll()">Rotate</button>
        <button class="control-btn" onclick="pulseAll()">Pulse</button>
        <button class="control-btn" onclick="resetAll()">Reset</button>
    </div>

    <script>
        // Position orbital items
        function positionOrbitalItems() {
            // Ring 1 - 3 items
            const ring1Items = document.querySelectorAll('.orbital-item.ring-1');
            ring1Items.forEach((item, index) => {
                const angle = (index / 3) * 2 * Math.PI;
                const radius = 100;
                const x = Math.cos(angle) * radius;
                const y = Math.sin(angle) * radius;
                item.style.left = `calc(50% + ${x}px)`;
                item.style.top = `calc(50% + ${y}px)`;
                item.style.transform = 'translate(-50%, -50%)';
            });

            // Ring 2 - 4 items  
            const ring2Items = document.querySelectorAll('.orbital-item.ring-2');
            ring2Items.forEach((item, index) => {
                const angle = (index / 4) * 2 * Math.PI;
                const radius = 175;
                const x = Math.cos(angle) * radius;
                const y = Math.sin(angle) * radius;
                item.style.left = `calc(50% + ${x}px)`;
                item.style.top = `calc(50% + ${y}px)`;
                item.style.transform = 'translate(-50%, -50%)';
            });

            // Ring 3 - 6 items
            const ring3Items = document.querySelectorAll('.orbital-item.ring-3');
            ring3Items.forEach((item, index) => {
                const angle = (index / 6) * 2 * Math.PI;
                const radius = 250;
                const x = Math.cos(angle) * radius;
                const y = Math.sin(angle) * radius;
                item.style.left = `calc(50% + ${x}px)`;
                item.style.top = `calc(50% + ${y}px)`;
                item.style.transform = 'translate(-50%, -50%)';
            });
        }

        // Animation functions
        function expandAll() {
            gsap.to('.orbital-ring-1', { scale: 1.3, duration: 1, ease: "back.out(1.7)" });
            gsap.to('.orbital-ring-2', { scale: 1.2, duration: 1, ease: "back.out(1.7)" });
            gsap.to('.orbital-ring-3', { scale: 1.1, duration: 1, ease: "back.out(1.7)" });
            
            gsap.to('.orbital-item.ring-1', { scale: 1.2, duration: 1, stagger: 0.1 });
            gsap.to('.orbital-item.ring-2', { scale: 1.15, duration: 1, stagger: 0.1 });
            gsap.to('.orbital-item.ring-3', { scale: 1.1, duration: 1, stagger: 0.1 });
        }

        function collapseAll() {
            gsap.to('.orbital-ring', { scale: 1, duration: 1, ease: "power2.out" });
            gsap.to('.orbital-item', { scale: 1, duration: 1, stagger: 0.05 });
        }

        function rotateAll() {
            gsap.to('.orbital-container', {
                rotation: 360,
                duration: 3,
                ease: "power2.inOut"
            });
            
            // Counter-rotate items to keep them upright
            gsap.to('.orbital-item', {
                rotation: -360,
                duration: 3,
                ease: "power2.inOut"
            });
        }

        function pulseAll() {
            gsap.timeline({ repeat: 2 })
                .to('.orbital-item.ring-1', { 
                    scale: 1.3, 
                    duration: 0.4,
                    stagger: { from: "center", amount: 0.3 }
                })
                .to('.orbital-item.ring-2', { 
                    scale: 1.3, 
                    duration: 0.4,
                    stagger: { from: "center", amount: 0.4 }
                }, "<0.1")
                .to('.orbital-item.ring-3', { 
                    scale: 1.3, 
                    duration: 0.4,
                    stagger: { from: "center", amount: 0.5 }
                }, "<0.1")
                .to('.orbital-item', { 
                    scale: 1, 
                    duration: 0.4,
                    stagger: 0.05
                });
        }

        function resetAll() {
            gsap.set('.orbital-container', { rotation: 0 });
            gsap.set('.orbital-ring', { scale: 1 });
            gsap.set('.orbital-item', { scale: 1, rotation: 0 });
        }

        // Item click interactions
        document.querySelectorAll('.orbital-item').forEach(item => {
            item.addEventListener('click', () => {
                // Highlight clicked item
                gsap.timeline()
                    .to(item, { scale: 1.5, duration: 0.2 })
                    .to(item, { scale: 1, duration: 0.3, ease: "bounce.out" });
                
                // Pulse ring
                const ring = item.dataset.ring;
                gsap.timeline()
                    .to(`.orbital-ring-${ring}`, { 
                        scale: 1.1, 
                        borderColor: 'rgba(102, 126, 234, 0.8)',
                        duration: 0.3 
                    })
                    .to(`.orbital-ring-${ring}`, { 
                        scale: 1, 
                        borderColor: 'rgba(102, 126, 234, 0.2)',
                        duration: 0.5 
                    });
            });
        });

        // Initialize positions
        positionOrbitalItems();

        // Auto-demo
        setTimeout(() => {
            expandAll();
            setTimeout(rotateAll, 2000);
            setTimeout(pulseAll, 6000);
            setTimeout(collapseAll, 9000);
        }, 1000);

        console.log('%c Orbital Animation System Demo ', 
            'background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 10px; font-size: 16px;');
    </script>
</body>
</html>